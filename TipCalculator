
/**
 * Write a description of class FindingTip here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
import java.util.Scanner;
import java.util.*;
import java.text.DecimalFormat;
public class FindingPrice
{
    public static void main(){
        Scanner keyboard = new Scanner (System.in);
        int ppl; //number of people ordering
        double totalPrice; //price of everything including tip/delivery
        double priceBeforeTip = 0; //total price without tip/delivery
        double amountPerUnit; //price needed to pay for every 1 dollar to account for tip/delivery
        double needToPay; //total price that the person needs to pay
        double check = 0; //checks to make sure totalprice = all the needToPays combined

        System.out.println("How many people are ordering?");
        ppl = keyboard.nextInt();

        double [] prices = new double [ppl]; //all the individual prices
        String [] names = new String [ppl]; //all the names

        for (int i = 1; i<=ppl; i++){
            System.out.print("Person #" + i + "'s name:");
            if (i == 1){
                System.out.println(" (do not include spaces!!!)");
            }
            else{
                System.out.println();
            }
            names[i-1] = keyboard.next();
            System.out.println("How much did " + names [i-1] + "'s meal cost:");
            prices [i-1] = keyboard.nextDouble();
        }
        
        for (int i = 0; i<prices.length; i++){
            priceBeforeTip += prices[i];
        }

        System.out.println("How much is the total cost? (include delivery/tip/etc.)");
        System.out.println("(Price before tip: " + priceBeforeTip + ")");
        System.out.println("(Price with 15% tip: " + priceBeforeTip * 1.15 + ")");
        totalPrice = keyboard.nextDouble();



        amountPerUnit = totalPrice/priceBeforeTip;
        for (int i = 0; i<prices.length; i++){
            needToPay = amountPerUnit * prices[i];
            DecimalFormat df = new DecimalFormat("#.##");
            System.out.println(names[i] + " needs to pay " + df.format(needToPay));
            check += needToPay;
        }

        if (check < totalPrice || check > totalPrice+1){
            System.out.println("ERROR: something went wrong. Please check that the total amount everyone is paying makes sense");
        }
    }
}
